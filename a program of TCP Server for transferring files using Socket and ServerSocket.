import java.io.*;
import java.net.*;
import java.util.*;

class createfile{
	public static void main(String args[]) throws Exception {
		Socket s = null;
		Scanner sc = new Scanner(System.in);
		try
		{
			s = new Socket("localhost",8888);
		}catch(Exception e)
		{
			System.out.println(e);
		}
		try
		{
			System.out.println("Connection Successful..");
			System.out.println("Now enter the file name..");
			String filename = sc.nextLine();
			DataOutputStream dout = new DataOutputStream(s.getOutputStream());
			Scanner din = new Scanner(s.getInputStream());
				dout.writeUTF(filename);
			String message = din.nextLine();
			if(message.equals("filenotfound"))
			{
				System.out.println("Sorry file not found..");
				return;
			}
			else
			{
				System.out.println("Welcome file is found and we edit file"+filename);
			}	
			String filedata = "";
			while(din.hasNext())
			{
				filedata += din.nextLine();
			}
			
			FileOutputStream fout = new FileOutputStream(filename);
			System.out.println("This is file data and we add file data in "+filename);
			System.out.println(filedata);
			byte buffer[] = filedata.getBytes();
			fout.write(buffer);
			dout.close();
			din.close();
			fout.close();
		}catch(Exception e)
		{
			System.out.println(e);
		}
	}
}

import java.io.*;
import java.net.*;
import java.util.Scanner;

class filehandle{
	public static void main(String args[]) throws Exception {
		
		ServerSocket ss = null;
		try
		{
			ss = new ServerSocket(8888);
		}catch(Exception e)
		{
			System.out.println(e);
		}
		Socket s = null;
		System.out.println("Wating for connection..");
		try
		{
			s = ss.accept();
		}catch(Exception e)
		{
			System.out.println(e);
		}
		try
		{
		System.out.println("Connection Successful..");
		System.out.println("Waiting for client input of filename..");
		DataOutputStream dout = new DataOutputStream(s.getOutputStream());
		DataInputStream din = new DataInputStream(s.getInputStream());
			String filename = din.readUTF();
			File file = new File(filename);
			if(file.exists())
			{
				dout.writeUTF("filefound");
			}
			else
			{
				dout.writeUTF("filenotfound");
			}
			FileInputStream fin = new FileInputStream(filename);
			int i = 0;
			String filedata = "";
			while((i=fin.read())!=-1)
			{
				filedata += (char)i;
			}
			System.out.println("file contain data is:");
			System.out.println("\n");
			System.out.println(filedata);
			dout.writeUTF(filedata);
		din.close();
		dout.close();
		fin.close();
		}catch(Exception e)
		{
			System.out.println(e);
		}		
	}
}


